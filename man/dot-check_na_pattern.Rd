% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/reporting_triangle-class.R
\name{.check_na_pattern}
\alias{.check_na_pattern}
\title{Check NA pattern validity in reporting triangle}
\usage{
.check_na_pattern(x)
}
\arguments{
\item{x}{A matrix or \link{reporting_triangle} object.}
}
\value{
A list with components:
\itemize{
\item \code{valid}: Logical indicating if all NAs are in valid bottom-right pattern
\item \code{n_out_of_pattern}: Count of out-of-pattern NA values
\item \code{n_expected}: Count of expected NA values (triangular pattern)
\item \code{positions}: Matrix of logical values indicating out-of-pattern NAs
\item \code{rows_affected}: Indices of rows with out-of-pattern NAs
}
}
\description{
Internal function that validates NA positions and provides detailed
diagnostics. Identifies NA values that don't follow the expected triangular
reporting delay pattern. Out-of-pattern NAs occur when a value is NA but
values below it (later reference dates) or to its right (longer delays) are
non-NA, suggesting data quality issues rather than reporting delay.
}
\details{
An NA is considered "out-of-pattern" if:
\itemize{
\item There exists a non-NA value in the same column but a later row
(indicating data should have been available), OR
\item There exists a non-NA value in the same row but a later column
(indicating earlier delays were reported)
}

This replaces \code{.check_na_bottom_right()} by providing both validation
(via the \code{valid} field) and detailed diagnostics.
}
\keyword{internal}
