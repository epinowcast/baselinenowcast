% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/uncertainty_opts.R
\name{uncertainty_opts}
\alias{uncertainty_opts}
\title{Uncertainty Configuration Options}
\usage{
uncertainty_opts(
  model = uncertainty_nb(),
  aggregation = aggregation_observed()
)
}
\arguments{
\item{model}{An object of class \code{uncertainty_model} defining the
probability distribution and fitting strategy. Defaults to
\code{\link[=uncertainty_nb]{uncertainty_nb()}} with \code{\link[=uncertainty_by_horizon]{uncertainty_by_horizon()}} strategy.}

\item{aggregation}{An object of class \code{aggregation_opts} defining how to
preprocess data before fitting. Defaults to \code{\link[=aggregation_observed]{aggregation_observed()}}.}
}
\value{
An object of class \code{uncertainty_opts} containing the model and
aggregation components. This object can be passed to functions like
\code{\link[=estimate_uncertainty]{estimate_uncertainty()}}, \code{\link[=sample_prediction]{sample_prediction()}}, and
\code{\link[=estimate_and_apply_uncertainty]{estimate_and_apply_uncertainty()}}.
}
\description{
Creates a complete uncertainty configuration object that bundles together
the uncertainty model (distribution and fitting strategy) and aggregation
options. This ensures consistency between parameter estimation and sampling,
and provides a single object to pass to uncertainty estimation functions.
}
\examples{
# Use all defaults (negative binomial, by-horizon, observed aggregation)
opts <- uncertainty_opts()
print(opts)

# Use Poisson distribution instead of negative binomial
opts_pois <- uncertainty_opts(
  model = uncertainty_poisson()
)
print(opts_pois)

# Use custom aggregation
opts_custom <- uncertainty_opts(
  model = uncertainty_nb(),
  aggregation = aggregation_opts(
    ref_time = function(x) {
      # 3-day rolling sum (requires zoo package)
      if (requireNamespace("zoo", quietly = TRUE)) {
        zoo::rollsum(x, k = 3, align = "right", fill = NA)
      } else {
        x
      }
    },
    delay = function(x) rowSums(x, na.rm = TRUE)
  )
)
print(opts_custom)
}
\seealso{
\code{\link[=uncertainty_nb]{uncertainty_nb()}}, \code{\link[=uncertainty_poisson]{uncertainty_poisson()}},
\code{\link[=uncertainty_by_horizon]{uncertainty_by_horizon()}}, \code{\link[=aggregation_observed]{aggregation_observed()}},
\code{\link[=aggregation_opts]{aggregation_opts()}}

Other uncertainty_opts: 
\code{\link{print.uncertainty_opts}()}
}
\concept{uncertainty_opts}
